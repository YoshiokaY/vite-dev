@use "sass:map";
@use "sass:math";
@use "sass:string";
@use "variables" as *;

// メディアクエリ
// ------------------------------------------------
// 引数：$type      どのような範囲を指定するか
//                  sp      SPサイズ
//                  pc      PCサイズ
// 使い方：「spサイズ」の場合は「@include mq(sp) { }」
//        「pcサイズ」の場合は「@include mq() { }」
// デフォルトではモバイルファースト
// ------------------------------------------------
@mixin mq($type: pc, $value1: $brakePoint) {
  // １つの値を使って範囲指定する場合
  $operator: ">=";
  $widthType: "min";
  @if $type == sp {
    // PC用（spMaxサイズ < w）
    $operator: "<";
  } @else {
    // SP用（w <= spMaxサイズ）
    // そのままでOK
  }
  @media screen and (width #{$operator} math.div($value1, 16) + em) {
    @content;
  }
}

// ホバークエリ
// ------------------------------------------------
// キーボードフォーカスとホバーを一括で設定する
// ------------------------------------------------
@mixin hover() {
  @media (hover: hover) {
    &:hover {
      @content;
    }
  }

  &:focus-visible {
    @content;
  }
}

// SVGマスク
// ------------------------------------------------
// extendに登録したsvgアイコンをまsk-imageで出力
// ------------------------------------------------
@mixin mask($svg, $color, $size: contain) {
  @extend %#{$svg};

  background-color: $color;
  mask-repeat: no-repeat;
  mask-position: center;
  mask-size: $size;
}
